(function(e){function t(t){for(var r,i,o=t[0],p=t[1],l=t[2],u=0,h=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(e[r]=p[r]);c&&c(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var p=s[o];0!==a[p]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],p=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=p;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[s("div",{staticClass:"d-flex align-center"},[s("v-btn",{attrs:{to:"/",text:""}},[s("span",{staticClass:"mr-2"},[e._v("Home")]),s("v-icon",[e._v("mdi-open-in-new")])],1)],1),s("v-spacer"),s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),s("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}}),s("v-spacer"),s("v-btn",{attrs:{href:"https://swapi.dev/",target:"_blank",text:""}},[s("span",{staticClass:"mr-2"},[e._v("The Star Wars API")]),s("v-icon",[e._v("mdi-open-in-new")])],1)],1),s("v-main",[s("router-view")],1)],1)},n=[],i={name:"App",data:()=>({})},o=i,p=s("2877"),l=s("6544"),c=s.n(l),u=s("7496"),h=s("40dc"),d=s("8336"),f=s("132d"),v=s("adda"),m=s("f6c4"),g=s("2fa4"),b=Object(p["a"])(o,a,n,!1,null,null,null),y=b.exports;c()(b,{VApp:u["a"],VAppBar:h["a"],VBtn:d["a"],VIcon:f["a"],VImg:v["a"],VMain:m["a"],VSpacer:g["a"]});var _=s("8c4f"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[0!==e.peopleList.length?s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h1",{staticClass:"text--seconday mb-3"},[e._v("Персонажи Star Wars")]),e._l(e.peopleList,(function(t){return s("v-card",{key:t.pageId,staticClass:"elevation-4 mb-5"},[s("v-layout",{attrs:{rox:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-responsive",{attrs:{height:"160px"}},[s("v-img",{attrs:{src:t.photo}})],1)],1),s("v-flex",{attrs:{xs8:""}},[s("v-card-text",[s("h2",{staticClass:"text--primary"},[e._v(e._s(t.name))]),s("p",[e._v(e._s(t.created.split("T")[0].split("-").reverse().join(".")))])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"primary",attrs:{to:"/people/"+t.pageId}},[e._v("Открыть")])],1)],1)],1)],1)})),e._l(9,(function(t){return s("a",{key:t+" count",on:{click:function(s){return s.preventDefault(),e.param(t)}}},[e._v(e._s(t)+" ")])})),s("br"),e._v(" "),s("br")],2)],1):0===e.peopleList.length?s("v-layout",{attrs:{row:""}},[s("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[s("h1",{staticClass:"text--primary"},[e._v("Список персонажей пока пуст")])])],1):e._e()],1)},w=[],L={name:"Home",data(){return{num:this.$store.getters.getChangePageNubmer||1}},computed:{peopleList(){let e=this.num?this.num:1;return this.$route.query.page?(e=this.$route.query.page,this.$store.dispatch("changePageNubmer",e),this.$store.getters.peopleList(e)):this.$store.getters.peopleList(e)}},methods:{param:function(e){this.num=e,this.$route.query.page=e,this.$store.dispatch("changePageNubmer",e),this.$store.dispatch("fetchPeopleList",e)}}},P=L,V=s("b0af"),C=s("99d9"),I=s("a523"),S=s("0e8f"),j=s("a722"),$=s("6b53"),k=Object(p["a"])(P,x,w,!1,null,null,null),O=k.exports;c()(k,{VBtn:d["a"],VCard:V["a"],VCardActions:C["a"],VCardText:C["b"],VContainer:I["a"],VFlex:S["a"],VImg:v["a"],VLayout:j["a"],VResponsive:$["a"],VSpacer:g["a"]});var N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"elevation-4 mb-5"},[s("v-layout",{attrs:{rox:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-img",{attrs:{src:e.people.photo,height:"300px",width:"300px"}})],1),s("v-flex",{attrs:{xs8:""}},[s("v-card-text",[s("h1",{staticClass:"text--primary"},[s("b",[e._v("Имя:")]),e._v(" "+e._s(e.people.name))]),s("br"),s("p",[s("b",[e._v("Дата создания:")]),e._v(" "+e._s(e.people.created.split("T")[0].split("-").reverse().join("."))+" "),s("br"),s("b",[e._v("Год рождения персонажа:")]),e._v(" "+e._s(e.people.birth_year)+" "),s("br"),s("b",[e._v("Пол персонажа:")]),e._v(" "+e._s(e.people.gender)+" "),s("br"),s("i",[e._v("Информация о корабле / кораблях персонажа:")])]),0!==e.starship.length?s("div",[s("ol",e._l(e.starship,(function(t){return s("li",{key:t.starshipId},[s("b",[e._v("Модель корабля:")]),e._v(" "+e._s(t.model)),s("br"),s("b",[e._v("Название корабля:")]),e._v(" "+e._s(t.name))])})),0)]):s("div",[s("p",[e._v("Кораблей нет")])])])],1)],1)],1)],1)],1)],1)},B=[],T={name:"People",props:["id"],data:()=>({starshipList:[]}),computed:{people(){const e=this.id;return this.$store.getters.peopleById(e)},starship(){const e=Number(this.id);let t=this.$store.getters.peopleById(e),s=t.starships,r=[];for(let a of s){let e=Number(a.slice(a.lastIndexOf("starships")+10).slice(0,-1));this.$store.getters.starshipById(e)&&r.push(this.$store.getters.starshipById(e))}return r}},created(){const e=this.id;let t=this.$store.getters.peopleById(e);t.starships!==[]&&this.$store.dispatch("fetchStarshipsList",t.starships)}},A=T,E=Object(p["a"])(A,N,B,!1,null,null,null),M=E.exports;c()(E,{VCard:V["a"],VCardText:C["b"],VContainer:I["a"],VFlex:S["a"],VImg:v["a"],VLayout:j["a"]}),r["a"].use(_["a"]);const F=[{path:"/",name:"Home",component:O},{path:"/people/:id",props:!0,name:"People",component:M}],R=new _["a"]({mode:"history",base:"/",routes:F});var q=R,z=s("2f62");r["a"].use(z["a"]);var H=function(){var e="https://swapi.dev/api/";function t(e,t){return fetch(e).then((function(e){return e.json()})).then((function(e){return"function"===typeof t&&t(e),e})).catch((function(e){console.log(e)}))}function s(s){return t(e,s)}function r(s){return function(r,a){return t(e+s+"/"+r+"/",a)}}function a(s){return function(){let r=void 0,a=void 0;if(arguments.length>1?(r=arguments[0],a=arguments[1]):arguments[0]&&("function"===typeof arguments[0]?(a=arguments[0],r=null):(a=null,r=arguments[0])),r){let n=new URLSearchParams;for(let e of Object.keys(r)){let t=r[e];n.append(e,t)}return t(e+s+"/?"+n.toString(),a)}return t(e+s+"/",a)}}return{getResources:s,getPerson:r("people"),getPeople:a("people"),getFilm:r("films"),getFilms:a("films"),getPlanet:r("planets"),getPlanets:a("planets"),getSpecies:r("species"),getAllSpecies:a("species"),getStarship:r("starships"),getStarships:a("starships"),getVehicle:r("vehicles"),getVehicles:a("vehicles")}}();class J{constructor(e="https://robohash.org/CutemanShow",t,s,r,a,n,i=1){this.photo="https://robohash.org/"+e,this.name=t,this.created=s,this.birth_year=r,this.gender=a,this.starships=n,this.pageId=i}}class U{constructor(e,t,s){this.name=e,this.model=t,this.starshipId=s}}var W=new z["a"].Store({state:{peopleList:{},starshipsList:[],pageNumber:1},mutations:{createPeople(e,{pageIndex:t,resultPeopleList:s}){e.peopleList={...e.peopleList,[t]:s}},loadPeopleList(e,t){e.peopleList=t},loadStarshipList(e,t){e.starshipsList=t},changePageNubmer(e,t){e.pageNumber=t}},actions:{async fetchPeopleList({commit:e},t){if(this.state.peopleList[t])return!0;const s=[];try{const r=await H.getPeople({page:t}),a=r.results;a&&Object.keys(a).forEach(e=>{const r=a[e];s.push(new J(r.name.replace(/\s/g,""),r.name,r.created,r.birth_year,r.gender,r.starships,Number(e)+1+10*(t-1)))}),e("createPeople",{resultPeopleList:s,pageIndex:t})}catch(r){throw console.Console("error"),r}},async fetchStarshipsList({commit:e},t){const s=[];try{for(let r of t){let t=Number(r.slice(r.lastIndexOf("starships")+10).slice(0,-1));const a=await H.getStarship(t);s.push(new U(a.name,a.model,t)),e("loadStarshipList",s)}}catch(r){throw console.Console("error"),r}},changePageNubmer({commit:e},t){e("changePageNubmer",t)}},getters:{peopleList(e){return t=>e.peopleList[t]||[]},peopleById(e){return t=>e.peopleList[e.pageNumber].find(e=>e.pageId===Number(t))},starshipById(e){if(e.starshipsList)return t=>e.starshipsList.find(e=>e.starshipId===t)},getChangePageNubmer(e){return e.pageNumber}},modules:{}}),D=s("f309");r["a"].use(D["a"]);var K=new D["a"]({}),G=s("2591");r["a"].config.productionTip=!1,new r["a"]({router:q,store:W,vuetify:K,render:function(e){return e(y)},created(){this.$store.dispatch("fetchPeopleList",1);const e={apiKey:"AIzaSyCe6ugKzCWei92vVA8iEJxluTkTm2Uf7wk",authDomain:"ed-ads-2101.firebaseapp.com",databaseURL:"https://ed-ads-2101-default-rtdb.firebaseio.com",projectId:"ed-ads-2101",storageBucket:"ed-ads-2101.appspot.com",messagingSenderId:"426491610589",appId:"1:426491610589:web:7ebc11957ee415fbaba234"};G["a"].initializeApp(e)}}).$mount("#app")}});
//# sourceMappingURL=app.962c32bb.js.map